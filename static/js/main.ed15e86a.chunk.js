(this["webpackJsonpmatechs-canvas"]=this["webpackJsonpmatechs-canvas"]||[]).push([[0],{132:function(e,n,t){e.exports=t(159)},137:function(e,n,t){},138:function(e,n,t){},142:function(e,n){},144:function(e,n){},159:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),c=t(34),i=t.n(c),u=(t(137),t(1)),o=(t(138),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n}),l=t(0),s=t(18),f=t(6),p=t(7),d=t(3),m=t(9),h=t(10),b=function(e){return function(n){return n[e]}},y=function(e,n){return function(t){return t[e][n]}},v=b,g=(y("detail","value"),t(4)),E=t(5),O=t(24),j=function(e){return l.a.sync((function(){return e()}))},k=function(e){return Object(h.Do)(l.a.effect).bind("r",j(f.randomInt(0,255))).bind("g",j(f.randomInt(0,255))).bind("b",j(f.randomInt(0,255))).bind("a",null!=e?l.a.pure(e):j(Object(d.pipe)(f.randomInt(0,10),O.map((function(e){return e/10}))))).return((function(e){var n=e.r,t=e.g,r=e.b,a=e.a;return"rgba(".concat(n,", ").concat(t,", ").concat(r,", ").concat(a,")")}))};function w(e){return function(n){return function(e,n){var t=l.e.as({type:"until"})(l.e.encaseEffect(n)),r=Object(d.pipe)(e,l.e.map((function(e){return{type:"stream",value:e}})));return Object(d.pipe)(l.e.mergeAll([t,r]),l.e.takeWhile((function(e){return"stream"===e.type})),l.e.filter((function(e){return"stream"===e.type})),l.e.map((function(e){return e.value})))}(n,e)}}var S="@uri/canvas",P=l.a.accessM((function(e){return e[S].clearRect()})),M=l.a.accessM((function(e){return e[S].canvas})),C=function(e){return function(n){return null!=n?l.a.pure(n):function(e){return Object(d.pipe)(M,l.a.map((function(n){return n[e]})))}(e)}},I=C("width"),R=C("height"),L=function(e){return function(n,t,r,a){return Object(h.Do)(l.a.effect).bind("width",I(r)).bind("height",R(a)).doL((function(r){var a=r.width,c=r.height;return l.a.sync((function(){return e.clearRect(n||0,t||0,a,c)}))})).return((function(e){var r=e.width,a=e.height;return{type:"@instruction/clearRect",args:o(n||0,t||0,r,a)}}))}},W=function(e){return l.a.accessM((function(n){var t=n[S];switch(e.type){case"@instruction/arc":return t.arc.apply(t,Object(E.a)(e.args));case"@instruction/beginPath":return t.beginPath;case"@instruction/clearRect":return t.clearRect.apply(t,Object(E.a)(e.args));case"@instruction/fill":return t.fill;case"@instruction/fillStyle":return t.fillStyle.apply(t,Object(E.a)(e.args));case"@instruction/lineWidth":return t.lineWidth.apply(t,Object(E.a)(e.args));case"@instruction/stroke":return t.stroke;case"@instruction/strokeStyle":return t.strokeStyle.apply(t,Object(E.a)(e.args))}}))},B=function(e,n){return l.e.fromSource(l.c.managed.chain(l.c.bracket(l.a.accessM((function(t){return l.a.sync((function(){var r=l.e.su.queueUtils(),a=r.next,c=r.ops,i=r.hasCB;return{unsubscribe:(n?t["@uri/emitter"].addEventListener(n):t["@uri/emitter"].fromEvent)(e)((function(e){return a({_tag:"offer",a:e})})),ops:c,hasCB:i}}))})),v("unsubscribe")),(function(e){var n=e.ops,t=e.hasCB;return l.e.su.emitter(n,t)})))},X=function(e){return function(n){return n.charCodeAt(e)}},A=function(e){return o(e.offsetX,e.offsetY)},q=function(e){return Object(d.pipe)(l.a.accessM((function(e){return e[S].canvas})),l.e.encaseEffect,l.e.chain((function(e){return B("click",e)})),l.e.map(A),l.e.chain(Object(m.flow)(e,l.e.encaseEffect)))},D=q((function(e){var n=Object(u.a)(e,2),t=n[0],r=n[1];return Object(d.pipe)(f.randomInt(30,200),j,l.a.chain((function(e){return function(e,n,t,r,a){return l.a.accessM((function(c){var i=c[S];return Object(d.pipe)(l.a.zip(r?l.a.pure(r):j(f.randomInt(0,360)),a?l.a.pure(a):j(f.randomInt(Math.PI/10*1e3,1e3*Math.PI))),l.a.chain((function(r){var a=Object(u.a)(r,2),c=a[0],o=a[1],s=[Object(d.pipe)(k(1),l.a.chain(i.strokeStyle)),Object(d.pipe)(k(),l.a.chain(i.fillStyle)),i.lineWidth(2),i.beginPath,i.arc(e,n,t,c,o/1e3),i.stroke,i.fill];return p.array.sequence(l.a.effect)(s)})))}))}(t,r,e)})))})),Y=q((function(e){var n=Object(u.a)(e,2),t=n[0],r=n[1];return l.a.accessM((function(e){var n=e[S];return Object(d.pipe)([n.beginPath,n.arc(t,r,20,0,2*Math.PI),n.strokeStyle("#000000"),n.fillStyle("Yellow"),n.lineWidth(2),n.stroke,n.fill],p.array.sequence(l.a.effect))}))})),x=function(e){return Object(d.pipe)(B("keyup"),l.e.map(v("keyCode")),l.e.filter(e.includes.bind(e)),l.e.take(1),l.e.collectArray,l.a.map((function(e){return Object(u.a)(e,1)[0]})),l.a.map(String.fromCharCode))},J=Object(d.pipe)(["1","2","R","X"],p.map(X(0)),x),z=Object(d.pipe)(["S","X"],p.map(X(0)),x),T=function(e){return Object(d.pipe)(l.a.parZip(Object(d.pipe)(e,w(z),l.e.collectArray,l.a.map(p.chain(m.identity))),z),l.a.map((function(e){var n=Object(u.a)(e,2),t=n[0];return"S"===n[1]?t:[]})))},U=Object(h.Do)(l.a.effect).bind("stateRef",l.d.makeRef({instructions:[]})).doL((function(e){var n=e.stateRef;return l.a.forever(Object(h.Do)(l.a.effect).do(P).do(Object(d.pipe)(n.get,l.a.chain((function(e){return n=e.instructions,Object(d.pipe)(n,p.map(W),p.array.sequence(l.a.effect));var n})))).bind("mainMenuChoice",J).bindL("additionalInstructions",(function(e){switch(e.mainMenuChoice){case"1":return T(D);case"2":return T(Y);case"X":return l.a.as(n.update((function(){return{instructions:[]}})),[]);default:return l.a.pure([])}})).doL((function(e){var t=e.additionalInstructions;return n.update((function(e){return{instructions:e.instructions.concat(t)}}))})).done())})).done(),Z=function(e){return r.useEffect((function(){if(e.current){var n=e.current.getContext("2d");n&&Object(d.pipe)(U,l.a.provideS((t=document,Object(g.a)({},"@uri/emitter",{fromEvent:function(e){return function(n){return t.addEventListener(e,n),l.a.sync((function(){return t.removeEventListener(e,n)}))}},addEventListener:function(e){return function(n){return function(t){return e.addEventListener(n,t),l.a.sync((function(){return e.removeEventListener(n,t)}))}}}}))),l.a.provideS(function(e){return Object(g.a)({},S,{canvas:l.a.pure(e.canvas),arc:function(n,t,r,a,c){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return l.a.as(l.a.sync((function(){return e.arc(n,t,r,a,c,i)})),{type:"@instruction/arc",args:[n,t,r,a,c,i]})},clearRect:L(e),beginPath:l.a.as(l.a.sync((function(){return e.beginPath()})),{type:"@instruction/beginPath"}),stroke:l.a.as(l.a.sync((function(){return e.stroke()})),{type:"@instruction/stroke"}),fill:l.a.as(l.a.sync((function(){return e.fill()})),{type:"@instruction/fill"}),lineWidth:function(n){return l.a.as(l.a.sync((function(){e.lineWidth=Math.abs(n)})),{type:"@instruction/lineWidth",args:[n]})},strokeStyle:function(n){return l.a.as(l.a.sync((function(){e.strokeStyle=n})),{type:"@instruction/strokeStyle",args:[n]})},fillStyle:function(n){return l.a.as(l.a.sync((function(){e.fillStyle=n})),{type:"@instruction/fillStyle",args:[n]})}})}(n)),s.b,l.a.run)}var t}),[e])},$=function(){var e=a.a.useRef(null),n=a.a.useState(o(0,0)),t=Object(u.a)(n,2),r=Object(u.a)(t[0],2),c=r[0],i=r[1],l=t[1];return a.a.useEffect((function(){setTimeout((function(){if(e.current&&e.current.parentElement){console.log(e.current.parentElement.getBoundingClientRect());var n=e.current.parentElement.getBoundingClientRect(),t=n.width,r=n.height;l(o(t,r))}}),1)}),[e,l]),o(a.a.createElement("canvas",{height:i,width:c,ref:e}),e)};var _=function(){var e=$(),n=Object(u.a)(e,2),t=n[0],r=n[1];return Z(r),a.a.createElement("div",{id:"app"},a.a.createElement("section",null,t),a.a.createElement("footer",null,a.a.createElement("ul",null,a.a.createElement("li",null,"Press ",a.a.createElement("strong",null,"1"),' to enter "circles" mode. Once in this mode you can click anywhere to draw a random circle.',a.a.createElement("ul",null,a.a.createElement("li",null,"Press ",a.a.createElement("strong",null,"S")," or ",a.a.createElement("strong",null,"X")," to cancel. You will be taken back to main mode."))),a.a.createElement("li",null,"Press ",a.a.createElement("strong",null,"2"),' to enter "markers" mode. Once in this mode you can click anywhere to draw a yellow marker.',a.a.createElement("ul",null,a.a.createElement("li",null,"Press ",a.a.createElement("strong",null,"S")," or ",a.a.createElement("strong",null,"X")," to cancel. You will be taken back to main mode."))),a.a.createElement("li",null,"Press ",a.a.createElement("strong",null,"X")," while in ",a.a.createElement("i",null,"main")," mode to clear the canvas.")),a.a.createElement("p",null,"Circles have a random radius, start angle, end angle, color and border color.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.ed15e86a.chunk.js.map